<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.17">
  <compounddef id="mc20__experimental_2helper_8py" kind="file" language="Python">
    <compoundname>mc20_experimental/helper.py</compoundname>
    <innernamespace refid="namespacehelper">helper</innernamespace>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1" refid="namespacehelper" refkind="compound"><highlight class="keyword">from</highlight><highlight class="normal"><sp/><ref refid="namespace_analysis_g_1_1core_1_1plotting" kindref="compound">AnalysisG.core.plotting</ref><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>TH1F,<sp/>TH2F</highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>AnalysisG.core.io<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>IO</highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight></codeline>
<codeline lineno="4" refid="namespacehelper_1aab41deb5b495c4d4c993788bdf5c5947" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacehelper_1aab41deb5b495c4d4c993788bdf5c5947" kindref="member">mag</ref>(p,<sp/>m<sp/>=<sp/>8):<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">.join([</highlight><highlight class="stringliteral">&quot;<sp/>&quot;</highlight><highlight class="normal">]*(m<sp/>-<sp/>len(str(p))))<sp/>+<sp/>p</highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight></codeline>
<codeline lineno="6" refid="namespacehelper_1a60d07b59d3989fec2a0b9944156184a7" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacehelper_1a60d07b59d3989fec2a0b9944156184a7" kindref="member">mrg</ref>(p,<sp/>m<sp/>=<sp/>7):<sp/></highlight></codeline>
<codeline lineno="7"><highlight class="normal"><sp/><sp/><sp/><sp/>strx<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:<sp/>strx<sp/>=<sp/>str(</highlight><highlight class="stringliteral">&quot;%.&quot;</highlight><highlight class="normal"><sp/>+<sp/>str(m-2)<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;f&quot;</highlight><highlight class="normal">)<sp/>%<sp/>p</highlight></codeline>
<codeline lineno="9"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal">:<sp/>strx<sp/>=<sp/>str(p)</highlight></codeline>
<codeline lineno="10"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;.&quot;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>strx:<sp/>l<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="11"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:<sp/>l<sp/>=<sp/>len(strx.split(</highlight><highlight class="stringliteral">&quot;.&quot;</highlight><highlight class="normal">)[0])</highlight></codeline>
<codeline lineno="12"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">.join([</highlight><highlight class="stringliteral">&quot;<sp/>&quot;</highlight><highlight class="normal">]*(m<sp/>-<sp/>len(strx)))<sp/>+<sp/>str(strx)</highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight></codeline>
<codeline lineno="14" refid="namespacehelper_1aacf1627849b8cc8ab7962a0ca52c9d71" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacehelper_1aacf1627849b8cc8ab7962a0ca52c9d71" kindref="member">colors</ref>(cl<sp/>=<sp/>[&quot;red&quot;,<sp/>&quot;green&quot;,<sp/>&quot;orange&quot;,<sp/>&quot;purple&quot;,<sp/>&quot;pink&quot;]):<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>iter(cl)</highlight></codeline>
<codeline lineno="15" refid="namespacehelper_1ae7c660f656a5418711dcef576f6bb76c" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacehelper_1ae7c660f656a5418711dcef576f6bb76c" kindref="member">count</ref>(data):<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>{c<sp/>:<sp/>sum([c<sp/>==<sp/>t<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>t<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>data])<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>c<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>list(set(data))}</highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight></codeline>
<codeline lineno="17" refid="namespacehelper_1a71efdd0f04ea507270f6ea8de03b1594" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacehelper_1a71efdd0f04ea507270f6ea8de03b1594" kindref="member">countv</ref>(data,<sp/>force<sp/>=<sp/>False):<sp/><sp/></highlight></codeline>
<codeline lineno="18"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>force:<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>{c<sp/>:<sp/>{j<sp/>:<sp/>len(data[c][j])<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>j<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>data[c]}<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>c<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>data}</highlight></codeline>
<codeline lineno="19"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>{c<sp/>:<sp/>len(data[c])<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>c<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>data}</highlight></codeline>
<codeline lineno="20"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal">:<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>len(data)</highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight></codeline>
<codeline lineno="22" refid="namespacehelper_1a4a2dc7e68ccd3dfdc29009954beee0b4" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacehelper_1a4a2dc7e68ccd3dfdc29009954beee0b4" kindref="member">toGeV</ref>(data):<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[x<sp/>/<sp/>1000.0<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>x<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>data]</highlight></codeline>
<codeline lineno="23" refid="namespacehelper_1acd08cad8fe84f3859f4d0a8d8e329980" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacehelper_1acd08cad8fe84f3859f4d0a8d8e329980" kindref="member">loss</ref>(t,<sp/><sp/>f,<sp/>dm<sp/>=<sp/>None):<sp/></highlight></codeline>
<codeline lineno="24"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>t<sp/>==<sp/>0:<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespacehelper_1a60d07b59d3989fec2a0b9944156184a7" kindref="member">mrg</ref>(</highlight><highlight class="stringliteral">&quot;NAN&quot;</highlight><highlight class="normal">,<sp/>4)</highlight></codeline>
<codeline lineno="25"><highlight class="normal"><sp/><sp/><sp/><sp/>lx<sp/>=<sp/>((t<sp/>-<sp/>f)<sp/>/<sp/>t)*100.0</highlight></codeline>
<codeline lineno="26"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>lx<sp/>&lt;<sp/>0:<sp/>lx<sp/>=<sp/>100<sp/>+<sp/>abs(lx)</highlight></codeline>
<codeline lineno="27"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>dm<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>lx</highlight></codeline>
<codeline lineno="28"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespacehelper_1a60d07b59d3989fec2a0b9944156184a7" kindref="member">mrg</ref>(round(lx,<sp/>dm),<sp/>dm<sp/>+<sp/>5)</highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight></codeline>
<codeline lineno="30" refid="namespacehelper_1a3fd1d534ecf2a857026ff37351ada130" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacehelper_1a3fd1d534ecf2a857026ff37351ada130" kindref="member">pc</ref>(t,<sp/>f,<sp/>m<sp/>=<sp/>None):<sp/></highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>t<sp/>==<sp/>0:<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespacehelper_1a60d07b59d3989fec2a0b9944156184a7" kindref="member">mrg</ref>(</highlight><highlight class="stringliteral">&quot;NAN&quot;</highlight><highlight class="normal">)<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>m<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/><ref refid="namespacehelper_1a60d07b59d3989fec2a0b9944156184a7" kindref="member">mrg</ref>(</highlight><highlight class="stringliteral">&quot;NAN&quot;</highlight><highlight class="normal">,<sp/>m)</highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespacehelper_1a60d07b59d3989fec2a0b9944156184a7" kindref="member">mrg</ref>(100*f<sp/>/<sp/>t)<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>m<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/><ref refid="namespacehelper_1a60d07b59d3989fec2a0b9944156184a7" kindref="member">mrg</ref>(100<sp/>*<sp/>f<sp/>/<sp/>t,<sp/>m<sp/>+<sp/>5)</highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">_title(level,<sp/>fancy):<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>level<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/>(&quot;</highlight><highlight class="normal"><sp/>+<sp/>fancy<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;)&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="35" refid="namespacehelper_1a7e18128a97d8d65e20841d2a1adcc7c5" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacehelper_1a7e18128a97d8d65e20841d2a1adcc7c5" kindref="member">safe</ref>(data,<sp/>key):</highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>data[key]</highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal">:<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight></codeline>
<codeline lineno="39" refid="namespacehelper_1a54f72d5dfb09f1e84a60de20cda05dd6" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacehelper_1a54f72d5dfb09f1e84a60de20cda05dd6" kindref="member">make</ref>(data,<sp/>prx,<sp/>key):</highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>data[prx<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;_&quot;</highlight><highlight class="normal"><sp/>+<sp/>key]</highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal">:<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight></codeline>
<codeline lineno="43" refid="namespacehelper_1ab60c4dd7f540f108c653b6039bd501fd" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacehelper_1ab60c4dd7f540f108c653b6039bd501fd" kindref="member">bar</ref>(p,<sp/>sym):<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>sym<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>p<sp/>&gt;<sp/>0<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;\\bar{&quot;</highlight><highlight class="normal"><sp/>+<sp/>sym<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;}&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="44" refid="namespacehelper_1ad480eff0e53877e348187a7ccf699d9d" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacehelper_1ad480eff0e53877e348187a7ccf699d9d" kindref="member">sorted_index</ref>(seq):<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[i[0]<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>sorted(enumerate(seq),<sp/>key=</highlight><highlight class="keyword">lambda</highlight><highlight class="normal"><sp/>x:x[1])]</highlight></codeline>
<codeline lineno="45"><highlight class="normal"></highlight></codeline>
<codeline lineno="46" refid="namespacehelper_1a3efee15d9f92b8e3e5fe43f7fba79378" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacehelper_1a3efee15d9f92b8e3e5fe43f7fba79378" kindref="member">njets_format</ref>(data):</highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/>xs<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;Jets&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>data<sp/>&gt;=<sp/>4:<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;\\geq<sp/>\\texttt{4-&quot;</highlight><highlight class="normal"><sp/>+<sp/>xs<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;}&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;\\texttt{&quot;</highlight><highlight class="normal"><sp/>+<sp/>str(data)<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;-&quot;</highlight><highlight class="normal"><sp/>+<sp/>xs<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;}&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"></highlight></codeline>
<codeline lineno="51" refid="namespacehelper_1a237494115e19198222a66ea3260660c8" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacehelper_1a237494115e19198222a66ea3260660c8" kindref="member">ntops_format</ref>(data):<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;\\texttt{&quot;</highlight><highlight class="normal"><sp/>+<sp/>str(max(data<sp/>+<sp/>[0]))<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;-Tops}&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="53" refid="namespacehelper_1ace4fc6881ed7850ef3a851e899252a71" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacehelper_1ace4fc6881ed7850ef3a851e899252a71" kindref="member">get_overflow</ref>(data,<sp/>max_,<sp/>min_,<sp/>nst<sp/>=<sp/>False):</highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>nst:</highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>overflw<sp/>=<sp/>{i<sp/>:<sp/>{j<sp/>:<sp/>[]<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>j<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>data[i]}<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>data}</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>undrflw<sp/>=<sp/>{i<sp/>:<sp/>{j<sp/>:<sp/>[]<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>j<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>data[i]}<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>data}</highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>key<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>data:</highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>kx<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>data[key]:<sp/></highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>overflw[key][kx]<sp/>=<sp/>[v<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>v<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>data[key][kx]<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>v<sp/>&gt;=<sp/>max_]</highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>undrflw[key][kx]<sp/>=<sp/>[v<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>v<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>data[key][kx]<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>v<sp/>&lt;=<sp/>min_]</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>data[key][kx]<sp/><sp/><sp/><sp/>=<sp/>[v<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>v<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>data[key][kx]<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>v<sp/>&gt;<sp/>min_<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>v<sp/>&lt;<sp/>max_]</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>undrflw,<sp/>overflw</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/>overflw<sp/>=<sp/>{i<sp/>:<sp/>[]<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>data}</highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/>undrflw<sp/>=<sp/>{i<sp/>:<sp/>[]<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>data}</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>key<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>data:</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>overflw[key]<sp/>=<sp/>[v<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>v<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>data[key]<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>v<sp/>&gt;=<sp/>max_]</highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>undrflw[key]<sp/>=<sp/>[v<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>v<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>data[key]<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>v<sp/>&lt;=<sp/>min_]</highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>data[key]<sp/><sp/><sp/><sp/>=<sp/>[v<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>v<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>data[key]<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>v<sp/>&gt;<sp/>min_<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>v<sp/>&lt;<sp/>max_]</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>undrflw,<sp/>overflw</highlight></codeline>
<codeline lineno="71"><highlight class="normal"></highlight></codeline>
<codeline lineno="72" refid="namespacehelper_1a050d854b5c66471454c6096274559f61" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacehelper_1a050d854b5c66471454c6096274559f61" kindref="member">symbolic</ref>(p):</highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>isinstance(p,<sp/>list):<sp/></highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lx<sp/>=<sp/>[<ref refid="namespacehelper_1a050d854b5c66471454c6096274559f61" kindref="member">symbolic</ref>(p[k])<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>k<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/><ref refid="namespacehelper_1ad480eff0e53877e348187a7ccf699d9d" kindref="member">sorted_index</ref>(p)]</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>xol<sp/>=<sp/>{l<sp/>:<sp/>[l<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>k<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>lx<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>k<sp/>==<sp/>l]<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>l<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>set(lx)}</highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#srt<sp/>=<sp/>sorted(xol)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;,<sp/>&quot;</highlight><highlight class="normal">.join([l<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;^{&quot;</highlight><highlight class="normal"><sp/>+<sp/>str(len(xol[l]))<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;}&quot;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>l<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>xol])</highlight></codeline>
<codeline lineno="78"><highlight class="normal"></highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>abs(p)<sp/>==<sp/>1:<sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespacehelper_1ab60c4dd7f540f108c653b6039bd501fd" kindref="member">bar</ref>(abs(p),<sp/></highlight><highlight class="stringliteral">&quot;d&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>abs(p)<sp/>==<sp/>2:<sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespacehelper_1ab60c4dd7f540f108c653b6039bd501fd" kindref="member">bar</ref>(abs(p),<sp/></highlight><highlight class="stringliteral">&quot;u&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>abs(p)<sp/>==<sp/>3:<sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespacehelper_1ab60c4dd7f540f108c653b6039bd501fd" kindref="member">bar</ref>(abs(p),<sp/></highlight><highlight class="stringliteral">&quot;s&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>abs(p)<sp/>==<sp/>4:<sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespacehelper_1ab60c4dd7f540f108c653b6039bd501fd" kindref="member">bar</ref>(abs(p),<sp/></highlight><highlight class="stringliteral">&quot;c&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>abs(p)<sp/>==<sp/>5:<sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespacehelper_1ab60c4dd7f540f108c653b6039bd501fd" kindref="member">bar</ref>(abs(p),<sp/></highlight><highlight class="stringliteral">&quot;b&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>abs(p)<sp/>==<sp/>11:<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespacehelper_1ab60c4dd7f540f108c653b6039bd501fd" kindref="member">bar</ref>(abs(p),<sp/></highlight><highlight class="stringliteral">&quot;\\ell&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>abs(p)<sp/>==<sp/>12:<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespacehelper_1ab60c4dd7f540f108c653b6039bd501fd" kindref="member">bar</ref>(abs(p),<sp/></highlight><highlight class="stringliteral">&quot;\\nu_{\\ell}&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>abs(p)<sp/>==<sp/>13:<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespacehelper_1ab60c4dd7f540f108c653b6039bd501fd" kindref="member">bar</ref>(abs(p),<sp/></highlight><highlight class="stringliteral">&quot;\\ell&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>abs(p)<sp/>==<sp/>14:<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespacehelper_1ab60c4dd7f540f108c653b6039bd501fd" kindref="member">bar</ref>(abs(p),<sp/></highlight><highlight class="stringliteral">&quot;\\nu_{\\ell}&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>abs(p)<sp/>==<sp/>15:<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespacehelper_1ab60c4dd7f540f108c653b6039bd501fd" kindref="member">bar</ref>(abs(p),<sp/></highlight><highlight class="stringliteral">&quot;\\ell&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>abs(p)<sp/>==<sp/>16:<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespacehelper_1ab60c4dd7f540f108c653b6039bd501fd" kindref="member">bar</ref>(abs(p),<sp/></highlight><highlight class="stringliteral">&quot;\\nu_{\\ell}&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>abs(p)<sp/>==<sp/>21:<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespacehelper_1ab60c4dd7f540f108c653b6039bd501fd" kindref="member">bar</ref>(abs(p),<sp/></highlight><highlight class="stringliteral">&quot;g&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>abs(p)<sp/>==<sp/>22:<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespacehelper_1ab60c4dd7f540f108c653b6039bd501fd" kindref="member">bar</ref>(abs(p),<sp/></highlight><highlight class="stringliteral">&quot;\\gamma&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>abs(p)<sp/>==<sp/>25:<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespacehelper_1ab60c4dd7f540f108c653b6039bd501fd" kindref="member">bar</ref>(abs(p),<sp/></highlight><highlight class="stringliteral">&quot;H&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>abs(p)<sp/>==<sp/>33:<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;Z<sp/>(33)&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;o&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="95"><highlight class="normal"></highlight></codeline>
<codeline lineno="96" refid="namespacehelper_1ad3079e9dbe1c11867b1f0477a49352fe" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacehelper_1ad3079e9dbe1c11867b1f0477a49352fe" kindref="member">default</ref>(hist,<sp/>pth):</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/>hist.Style<sp/>=<sp/></highlight><highlight class="stringliteral">r&quot;ATLAS&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>pth<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:<sp/>hist.OutputDirectory<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;figures/&quot;</highlight><highlight class="normal"><sp/>+<sp/>pth</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/>hist.DPI<sp/>=<sp/>250</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/>hist.TitleSize<sp/>=<sp/>20</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/>hist.AutoScaling<sp/>=<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/>hist.Overflow<sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/>hist.yScaling<sp/>=<sp/>10*0.75</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/>hist.xScaling<sp/>=<sp/>15*0.6</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/>hist.FontSize<sp/>=<sp/>15</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/>hist.AxisSize<sp/>=<sp/>15</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/>hist.LegendSize<sp/>=<sp/>15</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>hist</highlight></codeline>
<codeline lineno="109"><highlight class="normal"></highlight></codeline>
<codeline lineno="110" refid="namespacehelper_1aebcb7fed73d109f9654edaad65e7a72d" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacehelper_1aebcb7fed73d109f9654edaad65e7a72d" kindref="member">template</ref>(xdata,<sp/>title,<sp/>color<sp/>=<sp/>None,<sp/>pth<sp/>=<sp/>None,<sp/>params<sp/>=<sp/>{}):</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/>thl<sp/>=<sp/><ref refid="namespacehelper_1ad3079e9dbe1c11867b1f0477a49352fe" kindref="member">default</ref>(TH1F(),<sp/>pth)</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>xdata<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:<sp/>thl.xData<sp/>=<sp/>xdata</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>color<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:<sp/>thl.Color<sp/>=<sp/>color</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/>thl.xMin<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/>thl.Alpha<sp/>=<sp/>0.5</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/>thl.Title<sp/>=<sp/>title</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>params:<sp/>setattr(thl,<sp/>i,<sp/>params[i])</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>thl</highlight></codeline>
<codeline lineno="119"><highlight class="normal"></highlight></codeline>
<codeline lineno="120" refid="namespacehelper_1aabdcd5e7f79a674035b73078e596f57f" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacehelper_1aabdcd5e7f79a674035b73078e596f57f" kindref="member">top_decay_stats</ref>(data,<sp/>prefix,<sp/>level,<sp/>fancy,<sp/>mode,<sp/>plt):</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/>num_tops<sp/>,<sp/>num_ltop<sp/>,<sp/><sp/>num_htop<sp/>=<sp/><ref refid="namespacehelper_1a54f72d5dfb09f1e84a60de20cda05dd6" kindref="member">make</ref>(data,<sp/>prefix,<sp/></highlight><highlight class="stringliteral">&quot;ntops&quot;</highlight><highlight class="normal">),<sp/><ref refid="namespacehelper_1a54f72d5dfb09f1e84a60de20cda05dd6" kindref="member">make</ref>(data,<sp/>prefix,<sp/></highlight><highlight class="stringliteral">&quot;ltops&quot;</highlight><highlight class="normal">),<sp/><ref refid="namespacehelper_1a54f72d5dfb09f1e84a60de20cda05dd6" kindref="member">make</ref>(data,<sp/>prefix,<sp/></highlight><highlight class="stringliteral">&quot;htops&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/>wrg,<sp/>l_hst,<sp/>h_hst<sp/>=<sp/><ref refid="namespacehelper_1a54f72d5dfb09f1e84a60de20cda05dd6" kindref="member">make</ref>(data,<sp/>prefix,<sp/></highlight><highlight class="stringliteral">&quot;wrong_match&quot;</highlight><highlight class="normal">),<sp/><ref refid="namespacehelper_1a54f72d5dfb09f1e84a60de20cda05dd6" kindref="member">make</ref>(data,<sp/>prefix,<sp/></highlight><highlight class="stringliteral">&quot;isleptonic&quot;</highlight><highlight class="normal">),<sp/><ref refid="namespacehelper_1a54f72d5dfb09f1e84a60de20cda05dd6" kindref="member">make</ref>(data,<sp/>prefix,<sp/></highlight><highlight class="stringliteral">&quot;ishadronic&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/>init_tops,<sp/>init_ltop,<sp/>init_htop<sp/>=<sp/>sum(num_tops),<sp/>sum(num_ltop),<sp/>sum(num_htop)</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>wrg<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:<sp/>wrg<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(len(wrg)):</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>j<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(len(wrg[i])):</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>wrg[i][j]<sp/>&lt;<sp/>0:<sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>h_hst[i][j]:<sp/>init_htop<sp/>-=<sp/>1</highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>l_hst[i][j]:<sp/>init_ltop<sp/>-=<sp/>1</highlight></codeline>
<codeline lineno="130"><highlight class="normal"></highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>plt:<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>{</highlight><highlight class="stringliteral">&quot;ntops&quot;</highlight><highlight class="normal"><sp/>:<sp/>init_tops,<sp/></highlight><highlight class="stringliteral">&quot;leptonic&quot;</highlight><highlight class="normal"><sp/>:<sp/>init_ltop,<sp/></highlight><highlight class="stringliteral">&quot;hadronic&quot;</highlight><highlight class="normal">:<sp/>init_htop,<sp/></highlight><highlight class="stringliteral">&quot;counts&quot;</highlight><highlight class="normal">:<sp/><ref refid="namespacehelper_1ae7c660f656a5418711dcef576f6bb76c" kindref="member">count</ref>(num_tops)}</highlight></codeline>
<codeline lineno="132"><highlight class="normal"></highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/>thl<sp/>=<sp/><ref refid="namespacehelper_1aebcb7fed73d109f9654edaad65e7a72d" kindref="member">template</ref>(num_tops,<sp/></highlight><highlight class="stringliteral">&quot;Top<sp/>Multiplicity<sp/>at<sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>_title(level,<sp/>fancy),<sp/></highlight><highlight class="stringliteral">&quot;blue&quot;</highlight><highlight class="normal">,<sp/>mode)</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/>thl.xTitle<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;Number<sp/>of<sp/>Tops<sp/>Per<sp/>Event&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/>thl.yTitle<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;Number<sp/>of<sp/>Unweighted<sp/>Events&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/>thl.xBins<sp/>=<sp/>6</highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/>thl.xStep<sp/>=<sp/>1</highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/>thl.xMin<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/>thl.xMax<sp/>=<sp/>6</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/>thl.Filename<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;num-tops&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/>thl.dump()</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/>thl.SaveFigure()</highlight></codeline>
<codeline lineno="143"><highlight class="normal"></highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/>thl<sp/>=<sp/><ref refid="namespacehelper_1aebcb7fed73d109f9654edaad65e7a72d" kindref="member">template</ref>(num_ltop,<sp/></highlight><highlight class="stringliteral">&quot;Leptonic&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;blue&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/>thl.IntegratedLuminosity<sp/>=<sp/>(init_ltop<sp/>/<sp/>init_tops)</highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/>thl.CrossSection<sp/>=<sp/>100.0</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/>thl.ApplyScaling<sp/>=<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/>thl.Density<sp/>=<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="149"><highlight class="normal"></highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/>thh<sp/>=<sp/><ref refid="namespacehelper_1aebcb7fed73d109f9654edaad65e7a72d" kindref="member">template</ref>(num_htop,<sp/></highlight><highlight class="stringliteral">&quot;Hadronic&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;red&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/>thh.CrossSection<sp/>=<sp/>100.0</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/>thh.IntegratedLuminosity<sp/>=<sp/>(init_htop<sp/>/<sp/>init_tops)</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/>thh.ApplyScaling<sp/>=<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/>thh.Density<sp/>=<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/>thh.Hatch<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;-&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="156"><highlight class="normal"></highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/>tpl<sp/>=<sp/><ref refid="namespacehelper_1aebcb7fed73d109f9654edaad65e7a72d" kindref="member">template</ref>(</highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Top<sp/>Decay<sp/>Mode<sp/>Event<sp/>Multiplicity<sp/>Composition<sp/>at<sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>_title(level,<sp/>fancy),<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/>mode)</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/>tpl.Histograms<sp/>=<sp/>[thl,<sp/>thh]<sp/></highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/>tpl.xTitle<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;Number<sp/>of<sp/>Tops<sp/>/<sp/>Per<sp/>Event&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/>tpl.yTitle<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;Percentage<sp/>of<sp/>Events<sp/>(%)&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/>tpl.xMax<sp/>=<sp/>5</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/>tpl.xBins<sp/>=<sp/>5</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/>tpl.xStep<sp/>=<sp/>1</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/>tpl.Filename<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;decay-mode&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/>tpl.dump()</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/>tpl.SaveFigure()</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>{</highlight><highlight class="stringliteral">&quot;ntops&quot;</highlight><highlight class="normal"><sp/>:<sp/>init_tops,<sp/></highlight><highlight class="stringliteral">&quot;leptonic&quot;</highlight><highlight class="normal"><sp/>:<sp/>init_ltop,<sp/></highlight><highlight class="stringliteral">&quot;hadronic&quot;</highlight><highlight class="normal">:<sp/>init_htop,<sp/></highlight><highlight class="stringliteral">&quot;counts&quot;</highlight><highlight class="normal">:<sp/><ref refid="namespacehelper_1ae7c660f656a5418711dcef576f6bb76c" kindref="member">count</ref>(num_tops)}</highlight></codeline>
<codeline lineno="168"><highlight class="normal"></highlight></codeline>
<codeline lineno="169" refid="namespacehelper_1a19c34bd59d12817757b08ce49ea7c142" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacehelper_1a19c34bd59d12817757b08ce49ea7c142" kindref="member">top_mass_dist</ref>(data,<sp/>prefix,<sp/>level,<sp/>fancy,<sp/>mode,<sp/>plt,<sp/>_min,<sp/>_max,<sp/>_bins,<sp/>_step):</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/>ml_top<sp/>=<sp/><ref refid="namespacehelper_1a54f72d5dfb09f1e84a60de20cda05dd6" kindref="member">make</ref>(data,<sp/>prefix<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;p&quot;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>prefix<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;isleptonic&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/>mh_top<sp/>=<sp/><ref refid="namespacehelper_1a54f72d5dfb09f1e84a60de20cda05dd6" kindref="member">make</ref>(data,<sp/>prefix<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;p&quot;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>prefix<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;ishadronic&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/>mw_top<sp/>=<sp/><ref refid="namespacehelper_1a54f72d5dfb09f1e84a60de20cda05dd6" kindref="member">make</ref>(data,<sp/>prefix<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;p&quot;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>prefix<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;wrong_match&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/>m_top<sp/><sp/>=<sp/><ref refid="namespacehelper_1a54f72d5dfb09f1e84a60de20cda05dd6" kindref="member">make</ref>(data,<sp/>prefix,<sp/></highlight><highlight class="stringliteral">&quot;top_mass&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>plt:<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="175"><highlight class="normal"></highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/>m_top<sp/>=<sp/>[j<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>m_top<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>j<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>i]</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>ml_top<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:<sp/>ml_top<sp/>=<sp/>[j<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>ml_top<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>j<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>i]</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:<sp/>ml_top<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="179"><highlight class="normal"></highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>mw_top<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:<sp/>mw_top<sp/>=<sp/>[j<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>mw_top<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>j<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>i]</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:<sp/>mw_top<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="182"><highlight class="normal"></highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>mh_top<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:<sp/>mh_top<sp/>=<sp/>[j<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>mh_top<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>j<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>i]</highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:<sp/>mh_top<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="185"><highlight class="normal"></highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/>_mode<sp/>=<sp/>{</highlight><highlight class="stringliteral">&quot;All&quot;</highlight><highlight class="normal"><sp/>:<sp/>[],<sp/></highlight><highlight class="stringliteral">&quot;Hadronic&quot;</highlight><highlight class="normal"><sp/>:<sp/>[],<sp/></highlight><highlight class="stringliteral">&quot;Leptonic&quot;</highlight><highlight class="normal"><sp/>:<sp/>[],<sp/></highlight><highlight class="stringliteral">&quot;Wrong&quot;</highlight><highlight class="normal"><sp/>:<sp/>[],<sp/></highlight><highlight class="stringliteral">&quot;Overflow&quot;</highlight><highlight class="normal"><sp/>:<sp/>[],<sp/></highlight><highlight class="stringliteral">&quot;Underflow&quot;</highlight><highlight class="normal"><sp/>:<sp/>[]}</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(len(m_top)):</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mt,<sp/>ml<sp/>=<sp/>m_top[i],<sp/>ml_top[i]<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(ml_top)<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>-1</highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>mt<sp/>&lt;<sp/>_min:<sp/>_mode[</highlight><highlight class="stringliteral">&quot;Underflow&quot;</highlight><highlight class="normal">].append(mt);<sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>mt<sp/>&gt;<sp/>_max:<sp/>_mode[</highlight><highlight class="stringliteral">&quot;Overflow&quot;</highlight><highlight class="normal">].append(mt);<sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_mode[</highlight><highlight class="stringliteral">&quot;All&quot;</highlight><highlight class="normal">].append(mt)</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_mode[</highlight><highlight class="stringliteral">&quot;Leptonic&quot;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>ml<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;Hadronic&quot;</highlight><highlight class="normal">].append(mt)</highlight></codeline>
<codeline lineno="193"><highlight class="normal"></highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>len(mw_top):<sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>mw_top[i]<sp/>&lt;<sp/>0:<sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_mode[</highlight><highlight class="stringliteral">&quot;Wrong&quot;</highlight><highlight class="normal">].append(mt)</highlight></codeline>
<codeline lineno="197"><highlight class="normal"></highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/>hist<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(mh_top):<sp/>hist.append(<ref refid="namespacehelper_1aebcb7fed73d109f9654edaad65e7a72d" kindref="member">template</ref>(_mode[</highlight><highlight class="stringliteral">&quot;Leptonic&quot;</highlight><highlight class="normal">],<sp/></highlight><highlight class="stringliteral">&quot;Leptonic&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;red&quot;</highlight><highlight class="normal"><sp/>,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(ml_top):<sp/>hist.append(<ref refid="namespacehelper_1aebcb7fed73d109f9654edaad65e7a72d" kindref="member">template</ref>(_mode[</highlight><highlight class="stringliteral">&quot;Hadronic&quot;</highlight><highlight class="normal">],<sp/></highlight><highlight class="stringliteral">&quot;Hadronic&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;blue&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/>{</highlight><highlight class="stringliteral">&quot;Hatch&quot;</highlight><highlight class="normal"><sp/>:<sp/></highlight><highlight class="stringliteral">&quot;//////\\\\\\\\\\\\\\&quot;</highlight><highlight class="normal">}))</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(_mode[</highlight><highlight class="stringliteral">&quot;Wrong&quot;</highlight><highlight class="normal">]):<sp/>hist.append(<ref refid="namespacehelper_1aebcb7fed73d109f9654edaad65e7a72d" kindref="member">template</ref>(_mode[</highlight><highlight class="stringliteral">&quot;Wrong&quot;</highlight><highlight class="normal">],<sp/></highlight><highlight class="stringliteral">&quot;Falsely<sp/>Matched&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;orange&quot;</highlight><highlight class="normal"><sp/>,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="202"><highlight class="normal"></highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/>thm<sp/>=<sp/><ref refid="namespacehelper_1aebcb7fed73d109f9654edaad65e7a72d" kindref="member">template</ref>(</highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/>_title(level,<sp/>fancy),<sp/></highlight><highlight class="stringliteral">&quot;blue&quot;</highlight><highlight class="normal">,<sp/>mode)</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(hist):<sp/>thm.Histograms<sp/>=<sp/>hist</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#if<sp/>not<sp/>len(hist):<sp/>thm.xData<sp/>=<sp/>_mode[&quot;All&quot;]</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.Overflow<sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.xTitle<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;Top<sp/>Mass<sp/>(GeV)&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.yTitle<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;Number<sp/>of<sp/>Tops<sp/>/<sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>str((_max<sp/>-<sp/>_min)/_bins)<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/>GeV&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.xMax<sp/>=<sp/>_max</highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.xMin<sp/>=<sp/>_min</highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.xStep<sp/>=<sp/>_step</highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.xBins<sp/>=<sp/>_bins</highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.Filename<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;top-mass&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.dump()</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.SaveFigure()</highlight></codeline>
<codeline lineno="216"><highlight class="normal"></highlight></codeline>
<codeline lineno="217" refid="namespacehelper_1ac97f044c8d7cf2b58b2b44df1a74b652" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacehelper_1ac97f044c8d7cf2b58b2b44df1a74b652" kindref="member">constrain_top_mass</ref>(data,<sp/>prefix,<sp/>level,<sp/>fancy,<sp/>mode,<sp/>plt,<sp/>_min,<sp/>_max,<sp/>_bins,<sp/>_step,<sp/>constr_fx,<sp/>cols<sp/>=<sp/>[&quot;red&quot;,<sp/>&quot;green&quot;,<sp/>&quot;orange&quot;,<sp/>&quot;purple&quot;,<sp/>&quot;pink&quot;,<sp/>&quot;yellow&quot;,<sp/>&quot;blue&quot;,<sp/>&quot;magenta&quot;,<sp/>&quot;black&quot;,<sp/>&quot;grey&quot;]):</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/>pdgid,<sp/>top_m<sp/>=<sp/><ref refid="namespacehelper_1a54f72d5dfb09f1e84a60de20cda05dd6" kindref="member">make</ref>(data,<sp/>prefix,<sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;pdgid&quot;</highlight><highlight class="normal">),<sp/><ref refid="namespacehelper_1a54f72d5dfb09f1e84a60de20cda05dd6" kindref="member">make</ref>(data,<sp/>prefix,<sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;top_mass&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/>is_l,<sp/>is_h<sp/><sp/><sp/>=<sp/><ref refid="namespacehelper_1a54f72d5dfb09f1e84a60de20cda05dd6" kindref="member">make</ref>(data,<sp/>prefix,<sp/></highlight><highlight class="stringliteral">&quot;isleptonic&quot;</highlight><highlight class="normal">),<sp/><ref refid="namespacehelper_1a54f72d5dfb09f1e84a60de20cda05dd6" kindref="member">make</ref>(data,<sp/>prefix,<sp/></highlight><highlight class="stringliteral">&quot;ishadronic&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/>is_w,<sp/>is_wt<sp/><sp/>=<sp/><ref refid="namespacehelper_1a54f72d5dfb09f1e84a60de20cda05dd6" kindref="member">make</ref>(data,<sp/>prefix,<sp/></highlight><highlight class="stringliteral">&quot;num_false&quot;</highlight><highlight class="normal"><sp/>),<sp/><ref refid="namespacehelper_1a54f72d5dfb09f1e84a60de20cda05dd6" kindref="member">make</ref>(data,<sp/>prefix,<sp/></highlight><highlight class="stringliteral">&quot;wrong_match&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/>njet<sp/>=<sp/><ref refid="namespacehelper_1a54f72d5dfb09f1e84a60de20cda05dd6" kindref="member">make</ref>(data,<sp/>prefix,<sp/></highlight><highlight class="stringliteral">&quot;num_jets&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="222"><highlight class="normal"></highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/>wrong<sp/>=<sp/>{}</highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/>leptonic<sp/>=<sp/>{}</highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/>hadronic<sp/>=<sp/>{}</highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/>ltop,<sp/>htop,<sp/>wx<sp/>=<sp/>0,<sp/>0,<sp/>0</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>x<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(len(pdgid)):</highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>y<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(len(pdgid[x])):</highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sym<sp/>=<sp/><ref refid="namespacehelper_1a050d854b5c66471454c6096274559f61" kindref="member">symbolic</ref>(pdgid[x][y])</highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>is_l_,<sp/>is_h_<sp/>=<sp/>is_l[x][y],<sp/>is_h[x][y]</highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>njet<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:<sp/>nj_<sp/>=<sp/>njet[x][y]</highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:<sp/>nj_<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>is_wt<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:<sp/>is_w_<sp/>=<sp/>is_wt[x][y]</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:<sp/>is_w_<sp/>=<sp/>-1</highlight></codeline>
<codeline lineno="235"><highlight class="normal"></highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>passed<sp/>=<sp/>constr_fx(sym,<sp/>top_m[x][y],<sp/>pdgid[x][y],<sp/>is_l_,<sp/>nj_)</highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/><sp/><sp/>is_l_<sp/>&gt;<sp/>0<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>is_w_<sp/>&lt;<sp/>0<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>passed:<sp/>modes<sp/>=<sp/>leptonic</highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>is_h_<sp/>&gt;<sp/>0<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>is_w_<sp/>&lt;<sp/>0<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>passed:<sp/>modes<sp/>=<sp/>hadronic<sp/></highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:<sp/>modes<sp/>=<sp/>wrong</highlight></codeline>
<codeline lineno="240"><highlight class="normal"></highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wx<sp/>+=<sp/>(is_w_<sp/>&gt;<sp/>-1)*passed</highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ltop<sp/>+=<sp/>(is_l_<sp/>&gt;<sp/>0)*passed<sp/></highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>htop<sp/>+=<sp/>(is_h_<sp/>&gt;<sp/>0)*passed</highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>passed<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>is_w_<sp/>&lt;<sp/>0:<sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>sym<sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>modes:<sp/>modes[sym]<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>modes[sym].append(top_m[x][y])</highlight></codeline>
<codeline lineno="247"><highlight class="normal"></highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/>lm<sp/>=<sp/>[j<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>k<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>leptonic<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>j<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>leptonic[k]]</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/>hm<sp/>=<sp/>[j<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>k<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>hadronic<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>j<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>hadronic[k]]</highlight></codeline>
<codeline lineno="250"><highlight class="normal"></highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/>frl<sp/>=<sp/>{k<sp/>:<sp/>len(leptonic[k])<sp/>/<sp/>len(lm)<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>k<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/><sp/>leptonic}</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/>frh<sp/>=<sp/>{k<sp/>:<sp/>len(hadronic[k])<sp/>/<sp/>len(hm)<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>k<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/><sp/>hadronic}</highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/>wrg<sp/>=<sp/>{k<sp/>:<sp/>len(wrong[k])<sp/><sp/><sp/><sp/>/<sp/>(wx+1)<sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>k<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/><sp/>wrong}</highlight></codeline>
<codeline lineno="254"><highlight class="normal"></highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/>frl<sp/>=<sp/>dict(sorted(frl.items(),<sp/>key=</highlight><highlight class="keyword">lambda</highlight><highlight class="normal"><sp/>item:<sp/>item[1],<sp/>reverse<sp/>=<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/>frh<sp/>=<sp/>dict(sorted(frh.items(),<sp/>key=</highlight><highlight class="keyword">lambda</highlight><highlight class="normal"><sp/>item:<sp/>item[1],<sp/>reverse<sp/>=<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/>wrg<sp/>=<sp/>list(dict(sorted(wrg.items(),<sp/>key=</highlight><highlight class="keyword">lambda</highlight><highlight class="normal"><sp/>item:<sp/>item[1],<sp/>reverse<sp/>=<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal">)))</highlight></codeline>
<codeline lineno="258"><highlight class="normal"></highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/>tmp_l,<sp/>tmp_h<sp/>=<sp/>{},<sp/>{}</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>frl:</highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(tmp_l)<sp/>&lt;<sp/>len(cols)-1:<sp/>d<sp/>=<sp/>i</highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:<sp/>d<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;\\texttt{Residual}&quot;</highlight><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>d<sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>tmp_l:<sp/>tmp_l[d]<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tmp_l[d]<sp/>+=<sp/>leptonic[i]</highlight></codeline>
<codeline lineno="265"><highlight class="normal"></highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>frh:</highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(tmp_h)<sp/>&lt;<sp/>len(cols)-1:<sp/>d<sp/>=<sp/>i</highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:<sp/>d<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;\\texttt{Residual}&quot;</highlight><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>d<sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>tmp_h:<sp/>tmp_h[d]<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tmp_h[d]<sp/>+=<sp/>hadronic[i]</highlight></codeline>
<codeline lineno="271"><highlight class="normal"></highlight></codeline>
<codeline lineno="272"><highlight class="normal"></highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/>atops<sp/>=<sp/>{</highlight><highlight class="stringliteral">&quot;all&quot;</highlight><highlight class="normal"><sp/>:<sp/>hm<sp/>+<sp/>lm,<sp/></highlight><highlight class="stringliteral">&quot;leptonic&quot;</highlight><highlight class="normal"><sp/>:<sp/>lm,<sp/></highlight><highlight class="stringliteral">&quot;hadronic&quot;</highlight><highlight class="normal"><sp/>:<sp/>hm}</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/>a_udr,<sp/>a_ovr<sp/>=<sp/><ref refid="namespacehelper_1ace4fc6881ed7850ef3a851e899252a71" kindref="member">get_overflow</ref>(atops,<sp/>_max,<sp/>_min,<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="275"><highlight class="normal"></highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/>data<sp/>=<sp/>{</highlight><highlight class="stringliteral">&quot;leptonic&quot;</highlight><highlight class="normal"><sp/>:<sp/>ltop,<sp/></highlight><highlight class="stringliteral">&quot;hadronic&quot;</highlight><highlight class="normal">:<sp/>htop,<sp/></highlight><highlight class="stringliteral">&quot;ntops&quot;</highlight><highlight class="normal">:<sp/>htop<sp/>+<sp/>ltop,<sp/></highlight><highlight class="stringliteral">&quot;wrong&quot;</highlight><highlight class="normal"><sp/>:<sp/>wx}</highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/><sp/><sp/>data<sp/>|=<sp/>{</highlight><highlight class="stringliteral">&quot;stats-all&quot;</highlight><highlight class="normal"><sp/>:<sp/>{</highlight><highlight class="stringliteral">&quot;over&quot;</highlight><highlight class="normal"><sp/>:<sp/><ref refid="namespacehelper_1a71efdd0f04ea507270f6ea8de03b1594" kindref="member">countv</ref>(a_ovr,<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal">),<sp/></highlight><highlight class="stringliteral">&quot;under&quot;</highlight><highlight class="normal">:<sp/><ref refid="namespacehelper_1a71efdd0f04ea507270f6ea8de03b1594" kindref="member">countv</ref>(a_udr,<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal">),<sp/></highlight><highlight class="stringliteral">&quot;domain&quot;</highlight><highlight class="normal"><sp/>:<sp/><ref refid="namespacehelper_1a71efdd0f04ea507270f6ea8de03b1594" kindref="member">countv</ref>(atops,<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal">)}}</highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>plt:<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>data</highlight></codeline>
<codeline lineno="279"><highlight class="normal"></highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/><sp/><sp/>hist<sp/>=<sp/>[<ref refid="namespacehelper_1aebcb7fed73d109f9654edaad65e7a72d" kindref="member">template</ref>(tmp_l[k],<sp/></highlight><highlight class="stringliteral">r&quot;$&quot;</highlight><highlight class="normal"><sp/>+<sp/>k<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;$&quot;</highlight><highlight class="normal">,<sp/>c,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/>{</highlight><highlight class="stringliteral">&quot;ErrorBars&quot;</highlight><highlight class="normal"><sp/>:<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal">})<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>k,<sp/>c<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>zip(tmp_l,<sp/><ref refid="namespacehelper_1aacf1627849b8cc8ab7962a0ca52c9d71" kindref="member">colors</ref>(cols))]</highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/><sp/><sp/>hist.reverse()</highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/>thm<sp/>=<sp/><ref refid="namespacehelper_1aebcb7fed73d109f9654edaad65e7a72d" kindref="member">template</ref>(</highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Leptonically<sp/>Matched<sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>_title(level,<sp/>fancy),<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/>mode)</highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.Overflow<sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.Stacked<sp/>=<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.Density<sp/>=<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.ErrorBars<sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.xTitle<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;Top<sp/>Mass<sp/>(GeV)&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.yTitle<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;Density<sp/>(Arb.)/<sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>str((_max<sp/>-<sp/>_min)/_bins)<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/>GeV&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.Histograms<sp/>=<sp/>hist</highlight></codeline>
<codeline lineno="290"><highlight class="normal"></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/>thm.yMax<sp/>=<sp/>0.15</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="291"><highlight class="normal"></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/>thm.yMin<sp/>=<sp/>0</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.xMax<sp/>=<sp/>_max</highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.xMin<sp/>=<sp/>_min</highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.xStep<sp/>=<sp/>_step</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.xBins<sp/>=<sp/>_bins</highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.Filename<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;pdgid-leptonic-&quot;</highlight><highlight class="normal"><sp/>+<sp/>constr_fx.__name__</highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.dump()</highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.SaveFigure()</highlight></codeline>
<codeline lineno="299"><highlight class="normal"></highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/>hist<sp/>=<sp/>[<ref refid="namespacehelper_1aebcb7fed73d109f9654edaad65e7a72d" kindref="member">template</ref>(tmp_h[k],<sp/></highlight><highlight class="stringliteral">r&quot;$&quot;</highlight><highlight class="normal"><sp/>+<sp/>k<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;$&quot;</highlight><highlight class="normal">,<sp/>c,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/>{</highlight><highlight class="stringliteral">&quot;ErrorBars&quot;</highlight><highlight class="normal"><sp/>:<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal">})<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>k,<sp/>c<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>zip(tmp_h,<sp/><ref refid="namespacehelper_1aacf1627849b8cc8ab7962a0ca52c9d71" kindref="member">colors</ref>(cols))]</highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/><sp/><sp/>hist.reverse()</highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/><sp/>thm<sp/>=<sp/><ref refid="namespacehelper_1aebcb7fed73d109f9654edaad65e7a72d" kindref="member">template</ref>(</highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Hadronically<sp/>Matched<sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>_title(level,<sp/>fancy),<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/>mode)</highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.Overflow<sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.Stacked<sp/>=<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.Density<sp/>=<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.ErrorBars<sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="307"><highlight class="normal"></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/>thm.yMax<sp/>=<sp/>0.08</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="308"><highlight class="normal"></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/>thm.yMin<sp/>=<sp/>0</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.xTitle<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;Top<sp/>Mass<sp/>(GeV)&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.yTitle<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;Density<sp/>(Arb.)<sp/>/<sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>str((_max<sp/>-<sp/>_min)/_bins)<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/>GeV&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.Histograms<sp/>=<sp/>hist</highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.xMax<sp/>=<sp/>_max</highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.xMin<sp/>=<sp/>_min</highlight></codeline>
<codeline lineno="314"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.xStep<sp/>=<sp/>_step</highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.xBins<sp/>=<sp/>_bins</highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.Filename<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;pdgid-hadronic-&quot;</highlight><highlight class="normal"><sp/>+<sp/>constr_fx.__name__</highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.dump()</highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.SaveFigure()</highlight></codeline>
<codeline lineno="319"><highlight class="normal"></highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/><sp/><sp/>hist<sp/>=<sp/>[<ref refid="namespacehelper_1aebcb7fed73d109f9654edaad65e7a72d" kindref="member">template</ref>(wrong[k],<sp/></highlight><highlight class="stringliteral">r&quot;$&quot;</highlight><highlight class="normal"><sp/>+<sp/>k<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;$&quot;</highlight><highlight class="normal">,<sp/>c,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/>{</highlight><highlight class="stringliteral">&quot;ErrorBars&quot;</highlight><highlight class="normal"><sp/>:<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal">})<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>k,<sp/>c<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>zip(wrg,<sp/><ref refid="namespacehelper_1aacf1627849b8cc8ab7962a0ca52c9d71" kindref="member">colors</ref>())]</highlight></codeline>
<codeline lineno="321"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>len(hist):<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>data</highlight></codeline>
<codeline lineno="322"><highlight class="normal"></highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/><sp/><sp/>thm<sp/>=<sp/><ref refid="namespacehelper_1aebcb7fed73d109f9654edaad65e7a72d" kindref="member">template</ref>(</highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Top<sp/>Mass<sp/>Contributions<sp/>by<sp/>False<sp/>Identification<sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>_title(level,<sp/>fancy),<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/>mode)</highlight></codeline>
<codeline lineno="324"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.Overflow<sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.Density<sp/>=<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.Stacked<sp/>=<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"><sp/></highlight><highlight class="comment">#False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="327"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.ErrorBars<sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="328"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.xTitle<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;Top<sp/>Mass<sp/>(GeV)&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.yTitle<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;Number<sp/>of<sp/>Tops<sp/>/<sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>str((_max<sp/>-<sp/>0)/_max)<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/>GeV&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="330"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.Histograms<sp/>=<sp/>hist</highlight></codeline>
<codeline lineno="331"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.xMax<sp/>=<sp/>_max</highlight></codeline>
<codeline lineno="332"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.xMin<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="333"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.xStep<sp/>=<sp/>40</highlight></codeline>
<codeline lineno="334"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.xBins<sp/>=<sp/>_max</highlight></codeline>
<codeline lineno="335"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.Filename<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;pdgid-wrong-&quot;</highlight><highlight class="normal"><sp/>+<sp/>constr_fx.__name__</highlight></codeline>
<codeline lineno="336"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.dump()</highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.SaveFigure()</highlight></codeline>
<codeline lineno="338"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>data</highlight></codeline>
<codeline lineno="339"><highlight class="normal"></highlight></codeline>
<codeline lineno="340" refid="namespacehelper_1aacadb5cce954c297cac29d885c72eec5" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacehelper_1aacadb5cce954c297cac29d885c72eec5" kindref="member">constrain_top_njets</ref>(data,<sp/>prefix,<sp/>level,<sp/>fancy,<sp/>mode,<sp/>plt,<sp/>_min,<sp/>_max,<sp/>_bins,<sp/>_step):</highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/><sp/><sp/>mass<sp/>=<sp/><ref refid="namespacehelper_1a54f72d5dfb09f1e84a60de20cda05dd6" kindref="member">make</ref>(data,<sp/>prefix,<sp/></highlight><highlight class="stringliteral">&quot;top_mass&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="342"><highlight class="normal"><sp/><sp/><sp/><sp/>mult<sp/>=<sp/><ref refid="namespacehelper_1a54f72d5dfb09f1e84a60de20cda05dd6" kindref="member">make</ref>(data,<sp/>prefix,<sp/></highlight><highlight class="stringliteral">&quot;merged_top_jets&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="343"><highlight class="normal"><sp/><sp/><sp/><sp/>pdgi<sp/>=<sp/><ref refid="namespacehelper_1a54f72d5dfb09f1e84a60de20cda05dd6" kindref="member">make</ref>(data,<sp/>prefix,<sp/></highlight><highlight class="stringliteral">&quot;pdgid&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="344"><highlight class="normal"><sp/><sp/><sp/><sp/>njet<sp/>=<sp/><ref refid="namespacehelper_1a54f72d5dfb09f1e84a60de20cda05dd6" kindref="member">make</ref>(data,<sp/>prefix,<sp/></highlight><highlight class="stringliteral">&quot;num_jets&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/><sp/><sp/>islp<sp/>=<sp/><ref refid="namespacehelper_1a54f72d5dfb09f1e84a60de20cda05dd6" kindref="member">make</ref>(data,<sp/>prefix,<sp/></highlight><highlight class="stringliteral">&quot;isleptonic&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="346"><highlight class="normal"><sp/><sp/><sp/><sp/>ishp<sp/>=<sp/><ref refid="namespacehelper_1a54f72d5dfb09f1e84a60de20cda05dd6" kindref="member">make</ref>(data,<sp/>prefix,<sp/></highlight><highlight class="stringliteral">&quot;ishadronic&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="347"><highlight class="normal"><sp/><sp/><sp/><sp/>iswg<sp/>=<sp/><ref refid="namespacehelper_1a54f72d5dfb09f1e84a60de20cda05dd6" kindref="member">make</ref>(data,<sp/>prefix,<sp/></highlight><highlight class="stringliteral">&quot;wrong_match&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="348"><highlight class="normal"></highlight></codeline>
<codeline lineno="349"><highlight class="normal"><sp/><sp/><sp/><sp/>njets_tops<sp/>=<sp/>{</highlight><highlight class="stringliteral">&quot;all&quot;</highlight><highlight class="normal"><sp/>:<sp/>{},<sp/></highlight><highlight class="stringliteral">&quot;leptonic&quot;</highlight><highlight class="normal"><sp/>:<sp/>{},<sp/></highlight><highlight class="stringliteral">&quot;hadronic&quot;</highlight><highlight class="normal"><sp/>:<sp/>{},<sp/></highlight><highlight class="stringliteral">&quot;wrong&quot;</highlight><highlight class="normal"><sp/>:<sp/>{}}</highlight></codeline>
<codeline lineno="350"><highlight class="normal"><sp/><sp/><sp/><sp/>ntops_tops<sp/>=<sp/>{</highlight><highlight class="stringliteral">&quot;all&quot;</highlight><highlight class="normal"><sp/>:<sp/>{},<sp/></highlight><highlight class="stringliteral">&quot;leptonic&quot;</highlight><highlight class="normal"><sp/>:<sp/>{},<sp/></highlight><highlight class="stringliteral">&quot;hadronic&quot;</highlight><highlight class="normal"><sp/>:<sp/>{},<sp/></highlight><highlight class="stringliteral">&quot;wrong&quot;</highlight><highlight class="normal"><sp/>:<sp/>{}}</highlight></codeline>
<codeline lineno="351"><highlight class="normal"></highlight></codeline>
<codeline lineno="352"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(len(mass)):</highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>j<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(len(mass[i])):</highlight></codeline>
<codeline lineno="354"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kx<sp/>=<sp/><ref refid="namespacehelper_1a3efee15d9f92b8e3e5fe43f7fba79378" kindref="member">njets_format</ref>(njet[i][j])</highlight></codeline>
<codeline lineno="355"><highlight class="normal"></highlight></codeline>
<codeline lineno="356"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tx<sp/>=<sp/><ref refid="namespacehelper_1a237494115e19198222a66ea3260660c8" kindref="member">ntops_format</ref>(mult[i][j])</highlight></codeline>
<codeline lineno="357"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mx,<sp/>lx,<sp/>hx,<sp/>mw<sp/>=<sp/>mass[i][j],<sp/>islp[i][j],<sp/>ishp[i][j],<sp/>iswg[i][j]</highlight></codeline>
<codeline lineno="358"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>key<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;leptonic&quot;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>lx<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;hadronic&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="359"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>mw<sp/>&gt;<sp/>-1:<sp/>key<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;wrong&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="360"><highlight class="normal"></highlight></codeline>
<codeline lineno="361"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>kx<sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>njets_tops[</highlight><highlight class="stringliteral">&quot;all&quot;</highlight><highlight class="normal">]:<sp/>njets_tops[</highlight><highlight class="stringliteral">&quot;all&quot;</highlight><highlight class="normal">][kx]<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="362"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>kx<sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>njets_tops[key]:<sp/><sp/><sp/>njets_tops[key][kx]<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="363"><highlight class="normal"></highlight></codeline>
<codeline lineno="364"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>tx<sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>ntops_tops[</highlight><highlight class="stringliteral">&quot;all&quot;</highlight><highlight class="normal">]:<sp/>ntops_tops[</highlight><highlight class="stringliteral">&quot;all&quot;</highlight><highlight class="normal">][tx]<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="365"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>tx<sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>ntops_tops[key]:<sp/><sp/><sp/>ntops_tops[key][tx]<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="366"><highlight class="normal"></highlight></codeline>
<codeline lineno="367"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>njets_tops[</highlight><highlight class="stringliteral">&quot;all&quot;</highlight><highlight class="normal">][kx].append(mx)</highlight></codeline>
<codeline lineno="368"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>njets_tops[key][kx].append(mx)</highlight></codeline>
<codeline lineno="369"><highlight class="normal"></highlight></codeline>
<codeline lineno="370"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ntops_tops[</highlight><highlight class="stringliteral">&quot;all&quot;</highlight><highlight class="normal">][tx].append(mx)</highlight></codeline>
<codeline lineno="371"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ntops_tops[key][tx].append(mx)</highlight></codeline>
<codeline lineno="372"><highlight class="normal"></highlight></codeline>
<codeline lineno="373"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>list(njets_tops[</highlight><highlight class="stringliteral">&quot;all&quot;</highlight><highlight class="normal">]):</highlight></codeline>
<codeline lineno="374"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>njets_tops[</highlight><highlight class="stringliteral">&quot;leptonic&quot;</highlight><highlight class="normal">]:<sp/>njets_tops[</highlight><highlight class="stringliteral">&quot;leptonic&quot;</highlight><highlight class="normal">][i]<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="375"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>njets_tops[</highlight><highlight class="stringliteral">&quot;hadronic&quot;</highlight><highlight class="normal">]:<sp/>njets_tops[</highlight><highlight class="stringliteral">&quot;hadronic&quot;</highlight><highlight class="normal">][i]<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="376"><highlight class="normal"></highlight></codeline>
<codeline lineno="377"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>list(ntops_tops[</highlight><highlight class="stringliteral">&quot;all&quot;</highlight><highlight class="normal">]):</highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>ntops_tops[</highlight><highlight class="stringliteral">&quot;leptonic&quot;</highlight><highlight class="normal">]:<sp/>ntops_tops[</highlight><highlight class="stringliteral">&quot;leptonic&quot;</highlight><highlight class="normal">][i]<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="379"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>ntops_tops[</highlight><highlight class="stringliteral">&quot;hadronic&quot;</highlight><highlight class="normal">]:<sp/>ntops_tops[</highlight><highlight class="stringliteral">&quot;hadronic&quot;</highlight><highlight class="normal">][i]<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="380"><highlight class="normal"></highlight></codeline>
<codeline lineno="381"><highlight class="normal"></highlight></codeline>
<codeline lineno="382"><highlight class="normal"><sp/><sp/><sp/><sp/>prmx<sp/>=<sp/>{</highlight></codeline>
<codeline lineno="383"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Stacked&quot;</highlight><highlight class="normal"><sp/>:<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;ErrorBars&quot;</highlight><highlight class="normal"><sp/>:<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Overflow&quot;</highlight><highlight class="normal"><sp/>:<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;xTitle&quot;</highlight><highlight class="normal"><sp/>:<sp/></highlight><highlight class="stringliteral">&quot;Top<sp/>Mass<sp/>(GeV)&quot;</highlight><highlight class="normal">,<sp/></highlight></codeline>
<codeline lineno="384"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;yTitle&quot;</highlight><highlight class="normal"><sp/>:<sp/></highlight><highlight class="stringliteral">&quot;Density<sp/>(Arb.)/<sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>str((_max<sp/>-<sp/>_min)/_bins)<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/>GeV&quot;</highlight><highlight class="normal">,<sp/></highlight></codeline>
<codeline lineno="385"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;xMax&quot;</highlight><highlight class="normal"><sp/>:<sp/>_max,<sp/></highlight><highlight class="stringliteral">&quot;xMin&quot;</highlight><highlight class="normal"><sp/>:<sp/>_min,<sp/></highlight><highlight class="stringliteral">&quot;xStep&quot;</highlight><highlight class="normal">:<sp/>_step,<sp/></highlight><highlight class="stringliteral">&quot;xBins&quot;</highlight><highlight class="normal"><sp/>:<sp/>_bins</highlight></codeline>
<codeline lineno="386"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="387"><highlight class="normal"></highlight></codeline>
<codeline lineno="388"><highlight class="normal"><sp/><sp/><sp/><sp/>njets_udr,<sp/>njets_ovr<sp/>=<sp/><ref refid="namespacehelper_1ace4fc6881ed7850ef3a851e899252a71" kindref="member">get_overflow</ref>(njets_tops,<sp/>_max,<sp/>_min)</highlight></codeline>
<codeline lineno="389"><highlight class="normal"><sp/><sp/><sp/><sp/>ntops_udr,<sp/>ntops_ovr<sp/>=<sp/><ref refid="namespacehelper_1ace4fc6881ed7850ef3a851e899252a71" kindref="member">get_overflow</ref>(ntops_tops,<sp/>_max,<sp/>_min)</highlight></codeline>
<codeline lineno="390"><highlight class="normal"></highlight></codeline>
<codeline lineno="391"><highlight class="normal"><sp/><sp/><sp/><sp/>out<sp/>=<sp/>{</highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;tops-merged&quot;</highlight><highlight class="normal"><sp/>:<sp/>{</highlight><highlight class="stringliteral">&quot;over&quot;</highlight><highlight class="normal"><sp/>:<sp/><ref refid="namespacehelper_1a71efdd0f04ea507270f6ea8de03b1594" kindref="member">countv</ref>(ntops_ovr),<sp/></highlight><highlight class="stringliteral">&quot;under&quot;</highlight><highlight class="normal">:<sp/><ref refid="namespacehelper_1a71efdd0f04ea507270f6ea8de03b1594" kindref="member">countv</ref>(ntops_udr),<sp/></highlight><highlight class="stringliteral">&quot;domain&quot;</highlight><highlight class="normal"><sp/>:<sp/><ref refid="namespacehelper_1a71efdd0f04ea507270f6ea8de03b1594" kindref="member">countv</ref>(ntops_tops)},<sp/></highlight></codeline>
<codeline lineno="393"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;tops-njets&quot;</highlight><highlight class="normal"><sp/><sp/>:<sp/>{</highlight><highlight class="stringliteral">&quot;over&quot;</highlight><highlight class="normal"><sp/>:<sp/><ref refid="namespacehelper_1a71efdd0f04ea507270f6ea8de03b1594" kindref="member">countv</ref>(njets_ovr),<sp/></highlight><highlight class="stringliteral">&quot;under&quot;</highlight><highlight class="normal">:<sp/><ref refid="namespacehelper_1a71efdd0f04ea507270f6ea8de03b1594" kindref="member">countv</ref>(njets_udr),<sp/></highlight><highlight class="stringliteral">&quot;domain&quot;</highlight><highlight class="normal"><sp/>:<sp/><ref refid="namespacehelper_1a71efdd0f04ea507270f6ea8de03b1594" kindref="member">countv</ref>(njets_tops)},</highlight></codeline>
<codeline lineno="394"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="395"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>plt:<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>out</highlight></codeline>
<codeline lineno="396"><highlight class="normal"></highlight></codeline>
<codeline lineno="397"><highlight class="normal"><sp/><sp/><sp/><sp/>coli<sp/>=<sp/><ref refid="namespacehelper_1aacf1627849b8cc8ab7962a0ca52c9d71" kindref="member">colors</ref>()</highlight></codeline>
<codeline lineno="398"><highlight class="normal"><sp/><sp/><sp/><sp/>hist<sp/>=<sp/>[<ref refid="namespacehelper_1aebcb7fed73d109f9654edaad65e7a72d" kindref="member">template</ref>(njets_tops[</highlight><highlight class="stringliteral">&quot;all&quot;</highlight><highlight class="normal">][k],<sp/></highlight><highlight class="stringliteral">r&quot;$&quot;</highlight><highlight class="normal"><sp/>+<sp/>k<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;$&quot;</highlight><highlight class="normal">,<sp/>next(coli),<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/>{</highlight><highlight class="stringliteral">&quot;ErrorBars&quot;</highlight><highlight class="normal"><sp/>:<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal">})<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>k<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>sorted(njets_tops[</highlight><highlight class="stringliteral">&quot;all&quot;</highlight><highlight class="normal">])]</highlight></codeline>
<codeline lineno="399"><highlight class="normal"><sp/><sp/><sp/><sp/>thm<sp/>=<sp/><ref refid="namespacehelper_1aebcb7fed73d109f9654edaad65e7a72d" kindref="member">template</ref>(</highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Invariant<sp/>Mass<sp/>of<sp/>Matched<sp/>Tops<sp/>by<sp/>Jet<sp/>Multiplicity<sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>_title(level,<sp/>fancy),<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/>mode,<sp/>prmx)</highlight></codeline>
<codeline lineno="400"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.Stacked<sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="401"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.Histograms<sp/>=<sp/>hist</highlight></codeline>
<codeline lineno="402"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.Filename<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;njets-all&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="403"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.dump()</highlight></codeline>
<codeline lineno="404"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.SaveFigure()</highlight></codeline>
<codeline lineno="405"><highlight class="normal"></highlight></codeline>
<codeline lineno="406"><highlight class="normal"><sp/><sp/><sp/><sp/>coli<sp/>=<sp/><ref refid="namespacehelper_1aacf1627849b8cc8ab7962a0ca52c9d71" kindref="member">colors</ref>()</highlight></codeline>
<codeline lineno="407"><highlight class="normal"><sp/><sp/><sp/><sp/>hist<sp/>=<sp/>[<ref refid="namespacehelper_1aebcb7fed73d109f9654edaad65e7a72d" kindref="member">template</ref>(njets_tops[</highlight><highlight class="stringliteral">&quot;leptonic&quot;</highlight><highlight class="normal">][k],<sp/></highlight><highlight class="stringliteral">r&quot;$&quot;</highlight><highlight class="normal"><sp/>+<sp/>k<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;$&quot;</highlight><highlight class="normal">,<sp/>next(coli),<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/>{</highlight><highlight class="stringliteral">&quot;ErrorBars&quot;</highlight><highlight class="normal"><sp/>:<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal">})<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>k<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>sorted(njets_tops[</highlight><highlight class="stringliteral">&quot;leptonic&quot;</highlight><highlight class="normal">])]</highlight></codeline>
<codeline lineno="408"><highlight class="normal"><sp/><sp/><sp/><sp/>thm<sp/>=<sp/><ref refid="namespacehelper_1aebcb7fed73d109f9654edaad65e7a72d" kindref="member">template</ref>(</highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Leptonic<sp/>Tops<sp/>by<sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>level<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/>Multiplicity&quot;</highlight><highlight class="normal"><sp/>+<sp/>_title(</highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">,<sp/>fancy),<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/>mode,<sp/>prmx)</highlight></codeline>
<codeline lineno="409"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.Histograms<sp/>=<sp/>hist</highlight></codeline>
<codeline lineno="410"><highlight class="normal"></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/>thm.yMax<sp/>=<sp/>0.125</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="411"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.Stacked<sp/>=<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="412"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.Density<sp/>=<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="413"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.Filename<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;njets-leptonic&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="414"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.dump()</highlight></codeline>
<codeline lineno="415"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.SaveFigure()</highlight></codeline>
<codeline lineno="416"><highlight class="normal"></highlight></codeline>
<codeline lineno="417"><highlight class="normal"><sp/><sp/><sp/><sp/>coli<sp/>=<sp/><ref refid="namespacehelper_1aacf1627849b8cc8ab7962a0ca52c9d71" kindref="member">colors</ref>()</highlight></codeline>
<codeline lineno="418"><highlight class="normal"><sp/><sp/><sp/><sp/>hist<sp/>=<sp/>[<ref refid="namespacehelper_1aebcb7fed73d109f9654edaad65e7a72d" kindref="member">template</ref>(njets_tops[</highlight><highlight class="stringliteral">&quot;hadronic&quot;</highlight><highlight class="normal">][k],<sp/></highlight><highlight class="stringliteral">r&quot;$&quot;</highlight><highlight class="normal"><sp/>+<sp/>k<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;$&quot;</highlight><highlight class="normal">,<sp/>next(coli),<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/>{</highlight><highlight class="stringliteral">&quot;ErrorBars&quot;</highlight><highlight class="normal"><sp/>:<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal">})<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>k<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>sorted(njets_tops[</highlight><highlight class="stringliteral">&quot;hadronic&quot;</highlight><highlight class="normal">])]</highlight></codeline>
<codeline lineno="419"><highlight class="normal"><sp/><sp/><sp/><sp/>thm<sp/>=<sp/><ref refid="namespacehelper_1aebcb7fed73d109f9654edaad65e7a72d" kindref="member">template</ref>(</highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Hadronic<sp/>Tops<sp/>by<sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>level<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/>Multiplicity&quot;</highlight><highlight class="normal"><sp/>+<sp/>_title(</highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">,<sp/>fancy),<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/>mode,<sp/>prmx)</highlight></codeline>
<codeline lineno="420"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.Histograms<sp/>=<sp/>hist</highlight></codeline>
<codeline lineno="421"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.Stacked<sp/>=<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="422"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.Density<sp/>=<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="423"><highlight class="normal"></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/>thm.yMax<sp/>=<sp/>0.03</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="424"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.Filename<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;njets-hadronic&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="425"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.dump()</highlight></codeline>
<codeline lineno="426"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.SaveFigure()</highlight></codeline>
<codeline lineno="427"><highlight class="normal"></highlight></codeline>
<codeline lineno="428"><highlight class="normal"><sp/><sp/><sp/><sp/>coli<sp/>=<sp/><ref refid="namespacehelper_1aacf1627849b8cc8ab7962a0ca52c9d71" kindref="member">colors</ref>()</highlight></codeline>
<codeline lineno="429"><highlight class="normal"><sp/><sp/><sp/><sp/>hist<sp/>=<sp/>[<ref refid="namespacehelper_1aebcb7fed73d109f9654edaad65e7a72d" kindref="member">template</ref>(ntops_tops[</highlight><highlight class="stringliteral">&quot;all&quot;</highlight><highlight class="normal">][k],<sp/></highlight><highlight class="stringliteral">r&quot;$&quot;</highlight><highlight class="normal"><sp/>+<sp/>k<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;$&quot;</highlight><highlight class="normal">,<sp/>next(coli),<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/>{</highlight><highlight class="stringliteral">&quot;ErrorBars&quot;</highlight><highlight class="normal"><sp/>:<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal">})<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>k<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>sorted(ntops_tops[</highlight><highlight class="stringliteral">&quot;all&quot;</highlight><highlight class="normal">])]</highlight></codeline>
<codeline lineno="430"><highlight class="normal"><sp/><sp/><sp/><sp/>thm<sp/>=<sp/><ref refid="namespacehelper_1aebcb7fed73d109f9654edaad65e7a72d" kindref="member">template</ref>(</highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Invariant<sp/>Mass<sp/>of<sp/>Matched<sp/>Tops<sp/>Partitioned<sp/>into<sp/>n-Top<sp/>Contributions<sp/>at<sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>_title(level,<sp/>fancy),<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/>mode,<sp/>prmx)</highlight></codeline>
<codeline lineno="431"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.Histograms<sp/>=<sp/>hist</highlight></codeline>
<codeline lineno="432"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.Stacked<sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="433"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.Filename<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;ntops-all&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="434"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.dump()</highlight></codeline>
<codeline lineno="435"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.SaveFigure()</highlight></codeline>
<codeline lineno="436"><highlight class="normal"></highlight></codeline>
<codeline lineno="437"><highlight class="normal"><sp/><sp/><sp/><sp/>coli<sp/>=<sp/><ref refid="namespacehelper_1aacf1627849b8cc8ab7962a0ca52c9d71" kindref="member">colors</ref>()</highlight></codeline>
<codeline lineno="438"><highlight class="normal"><sp/><sp/><sp/><sp/>hist<sp/>=<sp/>[<ref refid="namespacehelper_1aebcb7fed73d109f9654edaad65e7a72d" kindref="member">template</ref>(ntops_tops[</highlight><highlight class="stringliteral">&quot;leptonic&quot;</highlight><highlight class="normal">][k],<sp/></highlight><highlight class="stringliteral">r&quot;$&quot;</highlight><highlight class="normal"><sp/>+<sp/>k<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;$&quot;</highlight><highlight class="normal">,<sp/>next(coli),<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/>{</highlight><highlight class="stringliteral">&quot;ErrorBars&quot;</highlight><highlight class="normal"><sp/>:<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal">})<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>k<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>sorted(ntops_tops[</highlight><highlight class="stringliteral">&quot;leptonic&quot;</highlight><highlight class="normal">])]</highlight></codeline>
<codeline lineno="439"><highlight class="normal"><sp/><sp/><sp/><sp/>thm<sp/>=<sp/><ref refid="namespacehelper_1aebcb7fed73d109f9654edaad65e7a72d" kindref="member">template</ref>(</highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Invariant<sp/>Mass<sp/>of<sp/>Leptonically<sp/>Matched<sp/>Tops<sp/>Partitioned<sp/>into<sp/>n-Top<sp/>Contributions<sp/>at<sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>_title(level,<sp/>fancy),<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/>mode,<sp/>prmx)</highlight></codeline>
<codeline lineno="440"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.Histograms<sp/>=<sp/>hist</highlight></codeline>
<codeline lineno="441"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.Stacked<sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="442"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.Filename<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;ntops-leptonic&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="443"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.dump()</highlight></codeline>
<codeline lineno="444"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.SaveFigure()</highlight></codeline>
<codeline lineno="445"><highlight class="normal"></highlight></codeline>
<codeline lineno="446"><highlight class="normal"><sp/><sp/><sp/><sp/>coli<sp/>=<sp/><ref refid="namespacehelper_1aacf1627849b8cc8ab7962a0ca52c9d71" kindref="member">colors</ref>()</highlight></codeline>
<codeline lineno="447"><highlight class="normal"><sp/><sp/><sp/><sp/>hist<sp/>=<sp/>[<ref refid="namespacehelper_1aebcb7fed73d109f9654edaad65e7a72d" kindref="member">template</ref>(ntops_tops[</highlight><highlight class="stringliteral">&quot;hadronic&quot;</highlight><highlight class="normal">][k],<sp/></highlight><highlight class="stringliteral">r&quot;$&quot;</highlight><highlight class="normal"><sp/>+<sp/>k<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;$&quot;</highlight><highlight class="normal">,<sp/>next(coli),<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/>{</highlight><highlight class="stringliteral">&quot;ErrorBars&quot;</highlight><highlight class="normal"><sp/>:<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal">})<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>k<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>sorted(ntops_tops[</highlight><highlight class="stringliteral">&quot;hadronic&quot;</highlight><highlight class="normal">])]</highlight></codeline>
<codeline lineno="448"><highlight class="normal"><sp/><sp/><sp/><sp/>thm<sp/>=<sp/><ref refid="namespacehelper_1aebcb7fed73d109f9654edaad65e7a72d" kindref="member">template</ref>(</highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Invariant<sp/>Mass<sp/>of<sp/>Hadronically<sp/>Matched<sp/>Tops<sp/>Partitioned<sp/>into<sp/>n-Top<sp/>Contributions<sp/>at<sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>_title(level,<sp/>fancy),<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/>mode,<sp/>prmx)</highlight></codeline>
<codeline lineno="449"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.Histograms<sp/>=<sp/>hist</highlight></codeline>
<codeline lineno="450"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.Stacked<sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="451"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.Filename<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;ntops-hadronic&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="452"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.dump()</highlight></codeline>
<codeline lineno="453"><highlight class="normal"><sp/><sp/><sp/><sp/>thm.SaveFigure()</highlight></codeline>
<codeline lineno="454"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>out</highlight></codeline>
<codeline lineno="455"><highlight class="normal"></highlight></codeline>
<codeline lineno="456"><highlight class="normal"></highlight></codeline>
<codeline lineno="457" refid="namespacehelper_1a4f035c06935b68c932aaa574bbeab7fb" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacehelper_1a4f035c06935b68c932aaa574bbeab7fb" kindref="member">ReadData</ref>(path,<sp/>tree,<sp/>strings):</highlight></codeline>
<codeline lineno="458"><highlight class="normal"><sp/><sp/><sp/><sp/>iox<sp/>=<sp/>IO(path)</highlight></codeline>
<codeline lineno="459"><highlight class="normal"><sp/><sp/><sp/><sp/>iox.Trees<sp/>=<sp/>tree</highlight></codeline>
<codeline lineno="460"><highlight class="normal"><sp/><sp/><sp/><sp/>iox.Leaves<sp/>=<sp/>strings</highlight></codeline>
<codeline lineno="461"><highlight class="normal"><sp/><sp/><sp/><sp/>data_out<sp/>=<sp/>{i<sp/>:<sp/>[]<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>strings}</highlight></codeline>
<codeline lineno="462"><highlight class="normal"><sp/><sp/><sp/><sp/>mapping<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="463"><highlight class="normal"></highlight></codeline>
<codeline lineno="464"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>iox:</highlight></codeline>
<codeline lineno="465"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>mapping<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:<sp/>mapping<sp/>=<sp/>{k<sp/>:<sp/>s<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>k<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>s<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>strings<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>isinstance(k,<sp/>str)<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>s<sp/>==<sp/>k.decode(</highlight><highlight class="stringliteral">&quot;utf-8&quot;</highlight><highlight class="normal">).split(</highlight><highlight class="stringliteral">&quot;.&quot;</highlight><highlight class="normal">)[-1]}</highlight></codeline>
<codeline lineno="466"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>s<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>i:<sp/></highlight></codeline>
<codeline lineno="467"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:<sp/>data_out[mapping[s]].append(i[s])</highlight></codeline>
<codeline lineno="468"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>KeyError:<sp/></highlight><highlight class="keywordflow">pass</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="469"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>data_out</highlight></codeline>
<codeline lineno="470"><highlight class="normal"></highlight></codeline>
<codeline lineno="471"><highlight class="normal"></highlight></codeline>
<codeline lineno="472" refid="namespacehelper_1a53d2b4d75057d5bd44c9849037a42168" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacehelper_1a53d2b4d75057d5bd44c9849037a42168" kindref="member">routing</ref>(mode):</highlight></codeline>
<codeline lineno="473"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>mode<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;top-partons&quot;</highlight><highlight class="normal"><sp/>:<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[</highlight><highlight class="stringliteral">&quot;p_ntops&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;p_ltops&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;p_htops&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;p_top_mass&quot;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="474"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>mode<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;top-children&quot;</highlight><highlight class="normal">:<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[</highlight><highlight class="stringliteral">&quot;c_ntops&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;c_ltops&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;c_htops&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;c_top_mass&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;c_isleptonic&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;c_ishadronic&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;c_pdgid&quot;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="475"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>mode<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;top-truthjet&quot;</highlight><highlight class="normal">:<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[</highlight><highlight class="stringliteral">&quot;tj_ntops&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;tj_ltops&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;tj_htops&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;tj_top_mass&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;tj_isleptonic&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;tj_ishadronic&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;tj_pdgid&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;tj_num_jets&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;tj_merged_top_jets&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;tj_num_false&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;tj_wrong_match&quot;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="476"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>mode<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;top-jets-children&quot;</highlight><highlight class="normal">:<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[</highlight><highlight class="stringliteral">&quot;jc_ntops&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;jc_ltops&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;jc_htops&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;jc_top_mass&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;jc_isleptonic&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;jc_ishadronic&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;jc_pdgid&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;jc_num_jets&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;jc_merged_top_jets&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;jc_num_false&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;jc_wrong_match&quot;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="477"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>mode<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;top-jets-leptons&quot;</highlight><highlight class="normal">:<sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[</highlight><highlight class="stringliteral">&quot;jl_ntops&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;jl_ltops&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;jl_htops&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;jl_top_mass&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;jl_isleptonic&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;jl_ishadronic&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;jl_pdgid&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;jl_num_jets&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;jl_merged_top_jets&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;jl_num_false&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;jl_wrong_match&quot;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="478"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[]</highlight></codeline>
<codeline lineno="479"><highlight class="normal"></highlight></codeline>
<codeline lineno="480" refid="namespacehelper_1af6a93f8b228f72389ec67f159c067410" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacehelper_1af6a93f8b228f72389ec67f159c067410" kindref="member">fetch_data</ref>(data,<sp/>level):<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>{i<sp/>:<sp/>data[i]<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/><ref refid="namespacehelper_1a53d2b4d75057d5bd44c9849037a42168" kindref="member">routing</ref>(level)}</highlight></codeline>
<codeline lineno="481"><highlight class="normal"></highlight></codeline>
<codeline lineno="482" refid="namespacehelper_1a1214e059db067d1b76aa4d659c8e15e0" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacehelper_1a1214e059db067d1b76aa4d659c8e15e0" kindref="member">fetch_all</ref>(pth,<sp/>tree,<sp/>level):</highlight></codeline>
<codeline lineno="483"><highlight class="normal"><sp/><sp/><sp/><sp/>string<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="484"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>i<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>level:<sp/>string<sp/>+=<sp/><ref refid="namespacehelper_1a53d2b4d75057d5bd44c9849037a42168" kindref="member">routing</ref>(i)</highlight></codeline>
<codeline lineno="485"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespacehelper_1a4f035c06935b68c932aaa574bbeab7fb" kindref="member">ReadData</ref>(pth,<sp/>tree,<sp/>string)</highlight></codeline>
<codeline lineno="486"><highlight class="normal"></highlight></codeline>
<codeline lineno="487"><highlight class="normal"></highlight></codeline>
<codeline lineno="488"><highlight class="normal"></highlight></codeline>
<codeline lineno="489"><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="/workspaces/AnalysisG/studies/mc20_experimental/helper.py"/>
  </compounddef>
</doxygen>
