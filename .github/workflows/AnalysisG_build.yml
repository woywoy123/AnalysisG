name: Building AnalysisG
on:
  pull_request:
      branches:
        - "master"

      paths-ignore:
        - '**.md'
        - 'docs'
        - 'scripts'

  push:
      branches:
        - "master"

      paths-ignore:
        - '**.md'
        - 'docs'
        - 'scripts'

defaults:
  run:
    shell: bash
  
jobs:
  steps:      
    - name: "Checkout the repo"
      uses: "actions/checkout@v3"
    
    - uses: Jimver/cuda-toolkit@v0.2.16
      id: cuda-toolkit
      with:
          cuda: '12.5.0'

    - uses: eWaterCycle/setup-singularity@v7
      with:
        singularity-version: 3.8.3
    
    - name: Run a singularity container
      run: singularity build singularity.sif singularity.def
